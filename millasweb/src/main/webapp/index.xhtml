<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/default.xhtml">
	<ui:define name="content">



		<h:form id="reg">
			<br />
			<p:messages showDetail="true" autoUpdate="true" closable="true" />

			<h:panelGrid id="pnlBusquedaVuelos" columns="2"
				styleClass="form" columnClasses="form-label, topped">
				<h:outputLabel value="Cedula/Pasporte: " />
				<p:inputText id="txtCedulaCliente"
					value="#{canjeoMillasController.cedulaCliente}" />
				<p:commandButton id="btnConsultar" value="Consultar Puntos"
					actionListener="#{canjeoMillasController.consultarListener}"
					update="lblPuntosAcumulados,pnlDestinosCanjeables"
					process="pnlBusquedaVuelos" />
			</h:panelGrid>

			<h:panelGrid columns="2" columnClasses="form-label, topped">
				<h:outputLabel value="Puntos Acumulados: " />
				<h:outputLabel id="lblPuntosAcumulados"
					value="#{canjeoMillasController.puntosAcumulados}" />
			</h:panelGrid>

			<h:panelGrid id="pnlDestinosCanjeables" columns="2" styleClass="form"
				columnClasses="form-label, topped">
				<h:outputLabel value="Destinos canjeables:" />
				<p:selectManyCheckbox layout="grid" columns="2"
					value="#{canjeoMillasController.destinosSeleccionados}">
					<f:selectItems value="#{canjeoMillasController.destinosCanjeables}"
						var="destino" itemLabel="#{destino.nombreDestino}"
						itemValue="#{destino.codigoCatalogoDestino}" />
				</p:selectManyCheckbox>
				<p:commandButton value="Canjear destinos"
					actionListener="#{canjeoMillasController.asignarDestinosSeleccionados}"
					update="lblPuntosAcumulados,pnlDestinosCanjeables" />
				<h:outputLabel id="msjAsignacionExitosa"
					rendered="#{canjeoMillasController.asignacionExitosa}"
					value="Destino(s) asignado(s) sin problemas!!!" />
			</h:panelGrid>

		</h:form>

	</ui:define>
</ui:composition>
